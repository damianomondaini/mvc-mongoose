<div class="modal fade" id="userUpdate" tabindex="-1" role="dialog" aria-labelledby="userUpdateModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="userUpdateModal">Update <span class="user-name"></span></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <form class="modal-form">
                <div class="form-group">
                    <label for="id">ID</label>
                    <input name="id" id="id" class="form-control" type="text" placeholder="" readonly>
                </div>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" class="form-control" id="username" placeholder="Username">
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="isAdmin" id="user" value="false" checked>
                        <label class="form-check-label" for="user">
                            User
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="isAdmin" id="admin" value="true">
                        <label class="form-check-label" for="admin">
                            Admin
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input update-editPassword" id="updatePassword" value="true" name="updatePassword">
                        <label class="form-check-label" for="updatePassword">Edit password?</label>
                    </div>
                </div>
                <div class="form-group update-password">
                    <label for="password">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="Password" name="password">
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-danger delete-button" data-dismiss="modal">Delete</button>
            <button type="button" class="btn btn-success update-button" data-dismiss="modal">Update</button>
        </div>
        </div>
    </div>
</div>

<div class="modal fade" id="userNew" tabindex="-1" role="dialog" aria-labelledby="userUpdateModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="userNewModal">Create user</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <form class="modal-form">
                <div class="form-group">
                    <label for="usernameNew">Username</label>
                    <input type="text" class="form-control" name="usernameNew" id="usernameNew" placeholder="Username">
                </div>
                <div class="form-group">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="isAdminNew" id="userNew" value="false" checked>
                        <label class="form-check-label" for="userNew">
                            User
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="isAdminNew" id="adminNew" value="true">
                        <label class="form-check-label" for="adminNew">
                            Admin
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" class="form-control" id="passwordNew" placeholder="Password" name="passwordNew">
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary create-button" data-dismiss="modal">Create</button>
        </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-lg-4">
            <div class="card">
                <h5 class="card-header">Users</h5>
                <div class="card-body">
                    <h5 class="card-title">Registered users</h5>
                    <p class="card-text"><%= data.userAll.length %></p>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card">
                <h5 class="card-header">Admin</h5>
                <div class="card-body">
                    <h5 class="card-title">Admin users</h5>
                    <p class="card-text">
                        <%
                        var adminCount = 0
                        for (let i = 0; i < data.userAll.length; i++) {
                            if (data.userAll[i].isAdmin === true) {
                                adminCount++
                            }
                        }%>
                        <%= adminCount %>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="card">
                <h5 class="card-header">Regular</h5>
                <div class="card-body">
                    <h5 class="card-title">Regular users</h5>
                    <p class="card-text"><%= data.userAll.length - adminCount %></p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <button type="button" class="btn btn-primary btn-lg btn-block button-newUser" data-toggle="modal" data-target="#userNew">
                <i class="fas fa-user-plus"></i>
                Add a new user
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col-12 table-responsive">
            <table class="table table-hover table-striped">
                <thead>
                    <tr>
                        <th scope="col">Options</th>
                        <th scope="col">Username</th>
                        <th scope="col">isAdmin</th>
                    </tr>
                </thead>
                <tbody class="users__tbody">
                    <% include ../blocks/users-table %>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="/src/public/js/ajax/edit-user.js"></script>
